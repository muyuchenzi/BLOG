### python

### 数据结构与算法

## List,Tuple,Dict

### 数据解构

```Python
# 序列结构 list tuple str dict 也是能解构
a,b,c=[1,2,3]
a,b,c,*d=[1,2,3,4,5,6] #d=[4,5,6]
a,b,c=(1,2,3)
a,b,c=[1,2,[3,4]] #c=[3,4]
a,b,c='str'
dict_alpha = {'1': 1, 'x': 2}
x, y = dict_alpha.keys()#x='1',y='x'
```



### deque ---double ended queue

在迭代操作或其他操作时，保存一定宽度的队列

```python
from collection import deque
deque_len=deque(maxlen=5)
deque_left=deque(maxlen=10)
for _ in range(20):
    deque_len.append(_) #deque([5, 6, 7, 8, 9], maxlen=5)
for _ in range(20):
    deque_left.appendleft(_)#deque([9, 8, 7, 6, 5], maxlen=5)
# maxlen不设定的时候就是一个不设长度的队列

```

#### 实现一个简单队列

```Python
class Queue_line:
    def __init__(self):
        self._queue = []

    def push(self, item，index=len(self._queue)):
        self._queue.append(item)

    def pop(self):
        try:
            pop_res = self._queue[-1]
            self._queue = self._queue[0:len(self._queue) - 1]
            return pop_res
        except IndexError:
            print("none")
        finally:
            pass
```



### heapq  ---heap queue

在一个数据集获取最大或者最小的N个元素

```Python
import heapq
import random
from string import ascii_lowercase

random.seed('test')
nums = [random.randint(1, 100) for _ in range(30)]
keys = ascii_lowercase
dict_nums = dict(zip(ascii_lowercase, nums))
# nlargest
# nsmallest
largest_res = heapq.nlargest(10, nums)
smallest_res = heapq.nsmallest(10, nums)
# key使用
largest_items = heapq.nlargest(10, dict_nums.items(), key=lambda x: x[1])
profiles=[
    {'name':"xx",'age':12,'score':78.5},
    {'name':"xx",'age':16,'score':81.5},
    {'name':"xx",'age':9,'score':45.5},
    {'name':"xx",'age':19,'score':98.5},
    {'name':"xx",'age':22,'score':68.5},
]
larges_pro = heapq.nsmallest(3, profiles, key=lambda x: x['score'])
```

### defaultdict

可是实现一个键对应多种数据结构

```python
from collections import defaultdict

default_dict_list = defaultdict(list)
default_dict_list['x'].append(1)
default_dict_list['x'].append(2)
default_dict_list['x'].append(3)

default_dict_set = defaultdict(set)
default_dict_set['a'].add(1)
default_dict_set['a'].add(2)
default_dict_set['a'].add(3)

#也可使用d={"x":[],"a":set()}
d = {"x": [], "a": set()}
d['x'].append(1)
d['x'].append(1)
d['x'].append(1)
d['a'].add(1)
d['a'].add(1)
d['a'].add(2)
```

orderedDict

普通dict也是可以按照顺序

```python
from collections import OrderedDict
d1 = {}
d['a'] = 'A'
d['b'] = 'B'
d['c'] = 'C'
d2 = {}
d2['a'] = 'A'
d2['c'] = 'C'
d2['b'] = 'B'
assert d1==d2# True，dict其实是无序的。

d1 = OrderedDict()
d1['a'] = 'A'
d1['b'] = 'B'
d1['c'] = 'C'
d2 = OrderedDict()
d2['a'] = 'A'
d2['c'] = 'C'
d2['b'] = 'B'
assert d1==d2 # False orderedDict是有序的。
```

